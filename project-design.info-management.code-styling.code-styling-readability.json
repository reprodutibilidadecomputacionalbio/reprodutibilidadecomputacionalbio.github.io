{"version":1,"kind":"Article","sha256":"12f1ce79f0e31be8974510e4f6df588c5a36db8b7c9d3d77587d84bc93ce8f2f","slug":"project-design.info-management.code-styling.code-styling-readability","location":"/project-design/info-management/code-styling/code-styling-readability.md","dependencies":[],"frontmatter":{"title":"Writing Human Readable Code","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":3}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/project-design/info-management/code-styling/code-styling-readability.md","thumbnail":"/build/xkcd1285-119e7e9a367acd93aeac9097193dd61d.png","exports":[{"format":"md","filename":"code-styling-readability.md","url":"/build/code-styling-readabi-f44e6697fec0dce1121e23f7bb119886.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Writing clear, well commented, readable and re-usable code benefits not only you but the community (or audience) that you are developing it for.\nThis may be your lab, external collaborators, stakeholders, or you might be writing open source software for global distribution!\nWhatever scale you work at, readability counts!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yy2XG7j0nX"}],"key":"pIjjthk8aN"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Here are a few aspects to consider when making your code easy to read by others.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZrrZVmUwN8"}],"key":"DANtGsqlGz"},{"type":"heading","depth":2,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Line Length","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IUsgzimTY1"}],"identifier":"line-length","label":"Line Length","html_id":"line-length","implicit":true,"key":"QSoOv2RVms"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"There is some agreement on the length of the coding lines.\nPEP8 suggests a maximum of 79 characters per line and 80 by the R style guide.\nThis means that the lines can easily fit on a screen, and multiple coding windows can be opened.\nIt is argued that if your line is any longer than this then your function is too complex and should be separated!\nThis is the crux of the Tidy method of R programming, which even has a special operator ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"dgTlfVXktv"},{"type":"inlineCode","value":"%>%","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"cPAn3Ojzq3"},{"type":"text","value":" which passes the previous object to the next function, so fewer characters are required:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EkJJX7Shc9"}],"key":"KghskaaTbI"},{"type":"code","lang":"r","value":"recoded_melt_dat <- read_csv('~/files/2019-05-17_dat.csv') %>%\nrecode() %>%\nmelt() #We now have a recoded, melted dataframe called recoded_melt_dat","position":{"start":{"line":18,"column":1},"end":{"line":22,"column":1}},"key":"PtTBqi9eTR"},{"type":"heading","depth":2,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Commenting","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"uDXIuVfMlI"}],"identifier":"commenting","label":"Commenting","html_id":"commenting","implicit":true,"key":"WK1GrdmAHP"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Comments have been described as “Love letters to your future self” by Jon Peirce, creator of PsychoPy.\nComments can be blocked or inline.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"HXLg2HLDI1"},{"type":"break","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ncMfS9HQzA"},{"type":"text","value":"The PEP8 guidelines have firm suggestions that block comments should be full sentences, have two spaces following a period, and follow a dated style guide (Strunk and White).\nFortunately the Elements of Style no longer ‘requires’ an unfair emphasis on masculine pronouns.\nWhereas inline comments should be used sparingly.\nKeeping clear and concise comments not only allows you to keep track of the decisions you have made, what particular functions do, and what variables are used, it also allows other people to see your thought processes.\nThe syntax for comments varies with programming languages.\nIn R and Python, a hashtag is used, whereas in C and Java the brackets ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"RPhILDbSXi"},{"type":"inlineCode","value":"/* /*","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"iQf0FL8CfB"},{"type":"text","value":" are used, and in C++/C# a double slash ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"uO8YH5v5QX"},{"type":"inlineCode","value":"//","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Rp8PLjrosR"},{"type":"text","value":" comments single lines.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"zQa74oPbG8"}],"key":"qPq7IeCJUj"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"In Python:","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ZQLELGnR2Q"}],"key":"gXy7GcKtK4"},{"type":"code","lang":"python","value":"times = 10 # Set integer\nmy_variable = \"my variable is %s times better than yours\" %times #Set my_variable to a string\nprint(my_variable) #print the value","position":{"start":{"line":36,"column":1},"end":{"line":40,"column":1}},"key":"TSx3lBEyvr"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"In R:","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"i8ZrR1gWDD"}],"key":"H95xb0HP5R"},{"type":"code","lang":"r","value":"my_func = function(number){ #R function\n\n(number * 5) - 2\n}\nprint(my_func(2))","position":{"start":{"line":43,"column":1},"end":{"line":49,"column":1}},"key":"ckn3ygKMcZ"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"For longer comments, information can be included above the code block.\nIn Python, you can use triple speech marks as a parenthesis.\nThis will comment out anything in between.","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"pC4JqH9OYX"}],"key":"mkmCiyNAhl"},{"type":"code","lang":"python","value":"\"\"\"\nThe following function takes a number, multiplies it by 5, and subtracts 2.\nThis may seem pointless but is simple for demonstration.\n\"\"\"\ndef myfunc(numb): #python function\n      return((numb*5)-2)\nprint(myfunc(8))","position":{"start":{"line":55,"column":1},"end":{"line":63,"column":1}},"key":"tz5r8BNkfK"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Longer blocks of comments are not available in R.\nThere are ways around this, such as setting up a string, or an if(false) statement:","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"otY961hzR8"}],"key":"euNIJivFeE"},{"type":"code","lang":"r","value":"\"1 - This is a string. It will not be evaluated by R, and will not raise\nand exception\"\n\nif(false){\n2 - All of your comment can go here and will never be evaluated.\nIt also means you keep to the 80 character line length suggestion.\nAlso, in RStudio you can fold away the comment using the arrow next to the\nline number of the if statement.\n}","position":{"start":{"line":67,"column":1},"end":{"line":77,"column":1}},"key":"taa0VZO0dm"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Or commenting out individual lines:","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"MMgzMHLU8w"}],"key":"ZhfpUMY9MI"},{"type":"code","lang":"r","value":"#This is also a very long comment\n#covering many lines.","position":{"start":{"line":81,"column":1},"end":{"line":84,"column":1}},"key":"YIKObVEqb1"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"Your IDE will probably have a keyboard shortcut for commenting out blocks.","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"HrDeCSRVkR"}],"key":"DAHJ2qWt0b"},{"type":"heading","depth":2,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Indentation","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"Jdf0JJZnYc"}],"identifier":"indentation","label":"Indentation","html_id":"indentation","implicit":true,"key":"FBScgdmW4I"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"The R style guide suggests that lines should be separated:","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"xgUEUGT7Vg"}],"key":"Oyv8uKkyZc"},{"type":"code","lang":"r","value":"by\n  two spaces","position":{"start":{"line":90,"column":1},"end":{"line":93,"column":1}},"key":"K61cPnWRnQ"},{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"And not","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"n3mkY2i934"}],"key":"uQvzIm9Svx"},{"type":"code","lang":"r","value":" a mixture\n   of\n   \ttabs\n   \t  and \tspaces.","position":{"start":{"line":95,"column":1},"end":{"line":100,"column":1}},"key":"jnkTQjpXI4"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Obviously, sometimes the arguments of a function can far expand 80 characters.\nIn this case, it is recommended that the second line be indented to the start of the arguments:","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"fNVtwh54bw"}],"key":"RDyxNWBtZA"},{"type":"code","lang":"r","value":"my_variable <- a_really_long_function(data = \"2019-05-17_Long_File_Name_2\",\n                                      header = TRUE, verbose = TRUE)\n","position":{"start":{"line":105,"column":1},"end":{"line":109,"column":1}},"key":"cWcX9YRcKh"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"These are of course just guidelines, and you should choose elements that suit your coding style.\nHowever, and again, it is important to ensure that you are consistent when collaborating, and can agree on a common style.\nIt could be useful to create a readme file describing your coding style so collaborators or contributors can follow your lead.","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"TvXmxXICZm"}],"key":"RhQm1IzJPm"},{"type":"heading","depth":3,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"...end. ...end.  ...or end.\\n","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"y6ahlV3Hzj"}],"identifier":"id-end-end-or-end-n","label":"...end. ...end.  ...or end.\\n","html_id":"id-end-end-or-end-n","implicit":true,"key":"KKxpaW8yVE"},{"type":"paragraph","position":{"start":{"line":117,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"If you are sharing text files or working collaboratively on manuals or documents, then there is a lot of controversy surrounding whether to use one or two spaces after a period.\nWhen using Markdown, it can be clearer to include a new line after every sentence.\nThis chapter (and most, if not all, of this book) has a new line after every sentence that makes the raw text easier to read, review and solve the spacing issue.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"jR34ftpDbT"}],"key":"pn6TBypP2H"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/xkcd1285-119e7e9a367acd93aeac9097193dd61d.png","alt":"Two groups holding different flags and fighting, one says \"two spaces after a period\" and other says \"one space after a period\". While a person stands with their flag that says \"Line break after every sentence\"","height":"500px","key":"ry2wR2OkSc","urlSource":"../../../../figures/xkcd1285.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"xkcd1285","identifier":"xkcd1285","html_id":"xkcd1285","enumerator":"1","children":[{"type":"text","value":"Figure ","key":"CPXVCKzzKP"},{"type":"text","value":"1","key":"NASAUaJ4rT"},{"type":"text","value":":","key":"XuQtIOFReZ"}],"template":"Figure %s:","key":"GA3qQHS2AR"},{"type":"emphasis","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Line break after each sentence makes it easy to review and comment - ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"YewrHW8gxc"},{"type":"link","url":"https://www.explainxkcd.com/wiki/index.php/1285:_Third_Way","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"XKCD Link","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"x3jZWT4clj"}],"urlSource":"https://www.explainxkcd.com/wiki/index.php/1285:_Third_Way","key":"MDXN5GSFh7"}],"key":"y4RcSVayN3"}],"key":"N7ht31jYVw"}],"key":"zA18BnrX5i"}],"label":"xkcd1285","identifier":"xkcd1285","enumerator":"1","html_id":"xkcd1285","key":"zB4q5n3PfS"}],"key":"Vwwj2f9cOJ"}],"key":"PWY0RA2rKe"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Guidelines for Code Styling","url":"/project-design/info-management/code-styling/code-styling-guidelines","group":"The Turing Way"},"next":{"title":"Code Styling Tools","url":"/project-design/info-management/code-styling/code-styling-tools","group":"The Turing Way"}}},"domain":"http://localhost:3001"}