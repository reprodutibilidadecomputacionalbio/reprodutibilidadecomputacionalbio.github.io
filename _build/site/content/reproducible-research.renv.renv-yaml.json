{"version":1,"kind":"Article","sha256":"b8c970358df838237902616ceb0dbdad588a8335ea0b3bcc722413bd3bbec1fb","slug":"reproducible-research.renv.renv-yaml","location":"/reproducible-research/renv/renv-yaml.md","dependencies":[],"frontmatter":{"title":"YAML","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":2}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/reproducible-research/renv/renv-yaml.md","exports":[{"format":"md","filename":"renv-yaml.md","url":"/renv-yaml-4fc15141ea2c163321866e89d8b73c97.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"YAML is an indentation-based markup language which aims to be both easy to read and easy to write.\nMany projects use it for configuration files because of its readability, simplicity, and good support for many programming languages.\nIt can be used for many things, including defining computational environments, and is well integrated with ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"dyEk4debOK"},{"type":"link","url":"https://github.com/actions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"GitHub actions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"KPNxEPq1pt"}],"urlSource":"https://github.com/actions","error":true,"key":"P2qmoounWZ"},{"type":"text","value":", which is discussed in the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"am1olM1wyC"},{"type":"link","kind":"ref","identifier":"rr-ci-github-actions","label":"rr-ci-github-actions","url":"/reproducible-research/ci/ci-github-actions","internal":true,"dataUrl":"/reproducible-research.ci.ci-github-actions.json","children":[{"type":"text","value":"Continuous Integration with GitHub Actions","key":"TInfjRRRUL"}],"key":"tsrbOcz5Om"},{"type":"text","value":" chapter.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hJoBkbfvyl"}],"key":"bI6aIZTDwk"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"YAML Files","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RGLfuESoMJ"}],"label":"rr-renv-yaml-files","identifier":"rr-renv-yaml-files","html_id":"rr-renv-yaml-files","key":"CerEzcnFO7"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"A YAML file defining a computational environment might look something like this:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Uyomc07g3X"}],"key":"tTZ4LHbyHN"},{"type":"code","lang":"","value":"# Define the operating system as Linux\nos: linux\n\n# Use the xenial distribution of Linux\ndist: xenial\n\n# Use the programming language Python\nlanguage: python\n\n# Use version of Python 3.2\npython: 3.2\n\n# Use the Python package numpy and use version 1.16.1\npackages:\n  numpy:\n    version: 1.16.1","position":{"start":{"line":13,"column":1},"end":{"line":30,"column":1}},"key":"Rp9j7fu2LL"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Note that comments can be added by preceding them with a ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"lbONK2Jjst"},{"type":"inlineCode","value":"#","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"Zvwa2ZkFcS"},{"type":"text","value":".","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"kMYiRfzZiC"}],"key":"WAYOJQMQg2"},{"type":"heading","depth":2,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"YAML Syntax","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"VAOlGJ53Ed"}],"label":"rr-renv-yaml-syntax","identifier":"rr-renv-yaml-syntax","html_id":"rr-renv-yaml-syntax","key":"bFQEK38ABG"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"A YAML document can consist of the following elements.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"kfi5zcbwva"}],"key":"zvxiccIwWE"},{"type":"heading","depth":3,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Scalars","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"B8elzfiE0R"}],"label":"rr-renv-yaml-syntax-scalars","identifier":"rr-renv-yaml-syntax-scalars","html_id":"rr-renv-yaml-syntax-scalars","key":"ANEl5SkX4u"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Scalars are ordinary values: numbers, strings, booleans.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"oDTzMUD6i7"}],"key":"OSCP9Qmuk4"},{"type":"code","lang":"","value":"number-value: 42\nfloating-point-value: 3.141592\nboolean-value: true\n\n# strings can be both 'single-quoted` and \"double-quoted\"\nstring-value: 'Bonjour'","position":{"start":{"line":44,"column":1},"end":{"line":51,"column":1}},"key":"XJrJGuChI5"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"YAML syntax also allows unquoted string values for convenience reasons:","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"JKZxJPtRGg"}],"key":"OPkGdXlN65"},{"type":"code","lang":"","value":"unquoted-string: Hello World","position":{"start":{"line":55,"column":1},"end":{"line":57,"column":1}},"key":"npf3qdgJgP"},{"type":"heading","depth":3,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Lists and Dictionaries","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"ARqmUPN8tS"}],"label":"rr-renv-yaml-syntax-lists","identifier":"rr-renv-yaml-syntax-lists","html_id":"rr-renv-yaml-syntax-lists","key":"uf0t0JZziE"},{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"Lists are collections of elements:","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"bRMALyd36p"}],"key":"Y3i8607vhW"},{"type":"code","lang":"","value":"jedis:\n  - Yoda\n  - Qui-Gon Jinn\n  - Obi-Wan Kenobi\n  - Luke Skywalker","position":{"start":{"line":63,"column":1},"end":{"line":69,"column":1}},"key":"Y9pzg4goTI"},{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Every element of the list is indented and starts with a dash and a space.","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"HSFhOaMd3T"}],"key":"PGu4mumClv"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Dictionaries are collections of ","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"HWzE4N54zx"},{"type":"inlineCode","value":"key: value","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"fzFtHPTgUp"},{"type":"text","value":" mappings.\nAll keys are case-sensitive.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"siL57aiaxL"}],"key":"ntHW2krBcs"},{"type":"code","lang":"","value":"jedi:\n  name: Obi-Wan Kenobi\n  home-planet: Stewjon\n  species: human\n  master: Qui-Gon Jinn\n  height: 1.82m","position":{"start":{"line":76,"column":1},"end":{"line":83,"column":1}},"key":"aMhmv9a6Ic"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"Note that a space after the colon is mandatory.","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"Wc9TDbLnS8"}],"key":"zXPUPrBihl"},{"type":"heading","depth":3,"position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"YAML Gotchas","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"Sfr9XkyDZa"}],"label":"rr-renv-yaml-syntax-gotchas","identifier":"rr-renv-yaml-syntax-gotchas","html_id":"rr-renv-yaml-syntax-gotchas","key":"mRk7X8a3kf"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"Due to the format aiming to be easy to write and read, there are some ambiguities in YAML.","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"RiP8Bj3uJk"}],"key":"jvdOtT3D5s"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":92,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":92,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Special characters in unquoted strings:","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"HJlgXntWtf"}],"key":"lzzzqPuyR0"},{"type":"text","value":" YAML has several special characters you cannot use in unquoted strings.\nFor example, parsing the following sample will fail:","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"YA3dLQadRe"},{"type":"code","lang":"","value":"unquoted-string: let me put a colon here: oops","position":{"start":{"line":94,"column":1},"end":{"line":96,"column":1}},"key":"G1upYOX6NA"},{"type":"text","value":"Quote the string value makes this value unambiguous:","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"igzi1XjMXh"},{"type":"code","lang":"","value":"unquoted-string: \"let me put a colon here: oops\"","position":{"start":{"line":98,"column":1},"end":{"line":100,"column":1}},"key":"y8oVipOfVp"},{"type":"text","value":"Generally, you should quote all strings that contain any of the following characters: ","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"kB7LxkHmmL"},{"type":"inlineCode","value":"[] {} : > |","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"CIEegSJiTD"},{"type":"text","value":".","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"JAPbwdswwi"}],"key":"zGO8aWiwxM"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"strong","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Tabs versus spaces for indentation:","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"qiGVI7K2qM"}],"key":"KCI8nxADyN"},{"type":"text","value":" do ","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"kdIGvfxt8n"},{"type":"emphasis","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"b9NeUMsHKo"}],"key":"kfhe5DDdwB"},{"type":"text","value":" use tabs for indentation.\nWhile the resulting YAML can still be valid, this can be a source of many subtle parsing errors.\nJust use spaces.","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"wZEqa9GspE"}],"key":"vz9JlkcQ9d"}],"key":"eXZzmtqvNB"},{"type":"heading","depth":2,"position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"How To Use Yaml To Define Computational Environments","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ocQWAmPVpV"}],"label":"rr-renv-yaml-environments","identifier":"rr-renv-yaml-environments","html_id":"rr-renv-yaml-environments","key":"OLLrHwu1uL"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Because of their simplicity, YAML files can be handwritten.\nAlternatively, they can be automatically generated as discussed in the ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"jzZt6U903I"},{"type":"link","kind":"ref","identifier":"rr-renv-package","label":"rr-renv-package","url":"/reproducible-research/renv/renv-package","internal":true,"dataUrl":"/reproducible-research.renv.renv-package.json","children":[{"type":"text","value":"Package Management Systems","key":"JZ2j6qFdyx"}],"key":"LYaCNpdRbR"},{"type":"text","value":" subchapter.\nFrom a YAML file, a computational environment can be replicated in a few ways.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"CjstR8gvCh"}],"key":"EWzO17Rezk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":113,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"strong","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Manually.","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"iGPm2Ofs1Q"}],"key":"EgQqLtcAmZ"},{"type":"text","value":" It can be done manually by carefully installing the specified packages.\nBecause YAML files can also specify operating systems and versions that may or may not match that of the person trying to replicate the environment, this may require the use of ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"zoaILxQV1b"},{"type":"link","kind":"ref","identifier":"rr-renv-vm","label":"rr-renv-vm","url":"/reproducible-research/renv/renv-virtualmachine","internal":true,"dataUrl":"/reproducible-research.renv.renv-virtualmachine.json","children":[{"type":"text","value":"Virtual Machines","key":"nfEHUa9GPH"}],"key":"HdizCIANbH"},{"type":"text","value":".","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"XPLeiBBQaA"}],"key":"vbrIHOKsnw"}],"key":"ssWBUkjAPc"},{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"strong","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Via Package Management Systems such as Conda.","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"Vqu0Yh4S42"}],"key":"rQNaUnuvbZ"},{"type":"text","value":" As ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"MvszaQYIMu"},{"type":"link","kind":"ref","identifier":"rr-renv-package","label":"rr-renv-package","children":[{"type":"text","value":"discussed","key":"HjAQ1RrGyQ"}],"url":"/reproducible-research/renv/renv-package","internal":true,"dataUrl":"/reproducible-research.renv.renv-package.json","key":"PXtH32EUob"},{"type":"text","value":", as well as being able to generate YAML files from computational environments, Conda can also generate computational environments from YAML files.","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"OgRjHzcLnH"}],"key":"gx8TAwag12"}],"key":"wvuXj3lRgQ"}],"key":"B056VNBWaI"},{"type":"heading","depth":2,"position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Security Issues","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"cYIh6QVUrl"}],"label":"rr-renv-yaml-security","identifier":"rr-renv-yaml-security","html_id":"rr-renv-yaml-security","key":"FX41qfYB54"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"There is an inherent risk in downloading/using files you have not written to your computer, and it is possible to include malicious code in YAML files.\nDo not load YAML files or generate computational environments from them unless you trust their source.","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"Bf85K6SpOX"}],"key":"pskZILESVY"}],"key":"njP4hxvtHP"}],"key":"rdYWZRgQaP"},"references":{"cite":{"order":[],"data":{}}}}