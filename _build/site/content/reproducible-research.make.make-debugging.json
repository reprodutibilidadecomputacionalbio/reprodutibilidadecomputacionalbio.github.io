{"version":1,"kind":"Article","sha256":"ec6d35fd4991a4e807fd3467fc17f5747d8cb64a4d169094736ec78ca41c5a58","slug":"reproducible-research.make.make-debugging","location":"/reproducible-research/make/make-debugging.md","dependencies":[],"frontmatter":{"title":"Debugging Makefiles","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":2}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/reproducible-research/make/make-debugging.md","exports":[{"format":"md","filename":"make-debugging.md","url":"/make-debugging-66667b6e4ad738a9e7e3133d0b269da5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"When writing a Makefile, it can sometimes be useful to be able to see the\nvalues of variables to catch mistakes or bugs in the Makefile. To facilitate\nthis, Make contains two commands: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kdH7Nm8AOZ"},{"type":"inlineCode","value":"info","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fENLEpqmI1"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aGpOjj8aK7"},{"type":"inlineCode","value":"error","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fvwA3Fgf3q"},{"type":"text","value":", and there is a debug\nmode to Make.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"rjzXv14YTM"}],"key":"j82y84pa5a"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"With the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CkLz8tF0Fi"},{"type":"inlineCode","value":"info","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gpeZxoKnpU"},{"type":"text","value":" command you can print the current value of a variable to\nstdout, while Make is processing the file. For instance, in the Makefile above\nyou could add:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tkC85fjjgL"}],"key":"Z27GSBFq50"},{"type":"code","lang":"makefile","value":"$(info $$DATA = $(DATA))","position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"key":"jguxWJStmf"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"This will print ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"GA1PsziZHd"},{"type":"inlineCode","value":"DATA = data/action.csv ... data/western.csv","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"s7bpBJcFdr"},{"type":"text","value":".","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"fWhRryFoDw"}],"key":"vZghvfOIEU"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"With the ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"iZtLRmTLwp"},{"type":"inlineCode","value":"error","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"APc3axOcKQ"},{"type":"text","value":" command you can stop the execution of Make at a certain\npoint in the Makefile. This is useful when you want to print the value of a\nvariable and not run Make any further:","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"O9QmyFnx1l"}],"key":"odAAD7yITF"},{"type":"code","lang":"makefile","value":"$(error $$DATA = $(DATA))","position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"key":"fsSrMgSDmi"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Finally, you can also debug the Makefile by running Make with the debug flag:\n","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Ys7u1rQ6gx"},{"type":"inlineCode","value":"make -d","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"QEexFJZkJC"},{"type":"text","value":". This will print all the rules (including built-in ones) that Make\ntries for each of the targets, and whether or not a rule needs to be run.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"WqP2jUc5I5"}],"key":"b5lzMrxnSj"},{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"If you only want to print the rules that Make will run and not actually run\nthem, you can use ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"MxXOmL5icl"},{"type":"inlineCode","value":"make -n","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"MQnwXE9qIR"},{"type":"text","value":". These last two options can also be combined, so\nthat you see the debug output and Make doesnâ€™t run anything: ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"NVp2vpM4Oa"},{"type":"inlineCode","value":"make -dn","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"OuLTcOAZyN"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"xHvIwiU0PB"}],"key":"p7wf4OpckX"}],"key":"vGAFoHlo6x"}],"key":"LVckFVYclC"},"references":{"cite":{"order":[],"data":{}}}}