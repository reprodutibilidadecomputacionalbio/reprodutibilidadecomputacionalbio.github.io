{"version":1,"kind":"Article","sha256":"ec6d35fd4991a4e807fd3467fc17f5747d8cb64a4d169094736ec78ca41c5a58","slug":"reproducible-research.make.make-debugging","location":"/reproducible-research/make/make-debugging.md","dependencies":[],"frontmatter":{"title":"Debugging Makefiles","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":2}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/reproducible-research/make/make-debugging.md","exports":[{"format":"md","filename":"make-debugging.md","url":"/build/make-debugging-66667b6e4ad738a9e7e3133d0b269da5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"When writing a Makefile, it can sometimes be useful to be able to see the\nvalues of variables to catch mistakes or bugs in the Makefile. To facilitate\nthis, Make contains two commands: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"w8EXOGKN3n"},{"type":"inlineCode","value":"info","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"k9n9hTVgPN"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"PUWsGmTAlf"},{"type":"inlineCode","value":"error","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lrdMnWgjWP"},{"type":"text","value":", and there is a debug\nmode to Make.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lbEGJQzBXy"}],"key":"o30zQ5uGQw"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"With the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"laffE69LUY"},{"type":"inlineCode","value":"info","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UoXZUDnJxl"},{"type":"text","value":" command you can print the current value of a variable to\nstdout, while Make is processing the file. For instance, in the Makefile above\nyou could add:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AbIlhCcmEK"}],"key":"NPbCIpmuRb"},{"type":"code","lang":"makefile","value":"$(info $$DATA = $(DATA))","position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"key":"poFQVLko7b"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"This will print ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ENGC0ZUCWj"},{"type":"inlineCode","value":"DATA = data/action.csv ... data/western.csv","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"hwcRKOq6Dg"},{"type":"text","value":".","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Z0GzS7TmtP"}],"key":"RAEZRRFf6l"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"With the ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Jz2peJ2pgp"},{"type":"inlineCode","value":"error","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"glbHMEYzKn"},{"type":"text","value":" command you can stop the execution of Make at a certain\npoint in the Makefile. This is useful when you want to print the value of a\nvariable and not run Make any further:","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"wu51QICmJu"}],"key":"Amnsw82JsA"},{"type":"code","lang":"makefile","value":"$(error $$DATA = $(DATA))","position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"key":"YZdrUI10Ps"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Finally, you can also debug the Makefile by running Make with the debug flag:\n","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"O3YAEd5i5A"},{"type":"inlineCode","value":"make -d","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"L1GnTnNnFK"},{"type":"text","value":". This will print all the rules (including built-in ones) that Make\ntries for each of the targets, and whether or not a rule needs to be run.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ktzdrRaRjE"}],"key":"FxfcYQgSxn"},{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"If you only want to print the rules that Make will run and not actually run\nthem, you can use ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"AUZM50pGYd"},{"type":"inlineCode","value":"make -n","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"HOIf7pU6Kj"},{"type":"text","value":". These last two options can also be combined, so\nthat you see the debug output and Make doesn’t run anything: ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"Aw5gD7NBEB"},{"type":"inlineCode","value":"make -dn","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"Hi6FqFwHvH"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"U4PaVeC6CS"}],"key":"ILukDWCEsQ"}],"key":"zAw9jVVk5U"}],"key":"fYOLlUB3oM"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Learn “Make” by Examples","url":"/reproducible-research/make/make-examples","group":"The Turing Way"},"next":{"title":"Case Study: Reproducible Paper using Make","url":"/reproducible-research/make/make-casestudy","group":"The Turing Way"}}},"domain":"http://localhost:3001"}