{"version":1,"kind":"Article","sha256":"ea9e53fc4f0269166ac5b036a2bba5a342beba4cf963b325d7e9b88a794025ca","slug":"reproducible-research.renv","location":"/reproducible-research/renv.md","dependencies":[],"frontmatter":{"title":"Reproducible Environments","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/reproducible-research/renv.md","exports":[{"format":"md","filename":"renv.md","url":"/build/renv-420fa6af47b4f5794a4ce1833faba08e.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Vy8RYLhOH0"}],"label":"rr-renv-prerequisites","identifier":"rr-renv-prerequisites","html_id":"rr-renv-prerequisites","key":"rzwkq8xOYk"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Prerequisite","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jDPgbCUgLb"}],"key":"nadbzCwqRx"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kKtrhQ5gxs"}],"key":"aQ4lBsqLbY"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eGuy6oKwoa"}],"key":"PixHSy3FlI"}],"key":"rjeTxZrsFu"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"crossReference","kind":"heading","identifier":"rr-overview-resources-commandline","label":"rr-overview-resources-commandline","children":[{"type":"text","value":"Experience with the command line","key":"IXjZkbM3ea"}],"template":"{name}","resolved":true,"html_id":"rr-overview-resources-commandline","remote":true,"url":"/reproducible-research/overview/overview-resources","dataUrl":"/reproducible-research.overview.overview-resources.json","key":"e1oxMi9bdo"}],"key":"ykAmo5xpJo"},{"type":"tableCell","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zS8kAVNfQy"}],"key":"DMHRPZcyJu"},{"type":"tableCell","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Experience with downloading software via the command line is particularly useful","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ul2xBepHhZ"}],"key":"il0KQzLhxK"}],"key":"Mlzp0PRtqW"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","kind":"ref","identifier":"rr-vcs","label":"rr-vcs","children":[{"type":"text","value":"Version Control","key":"pPQquWF7fv"}],"url":"/reproducible-research/vcs","internal":true,"dataUrl":"/reproducible-research.vcs.json","key":"HCbZyGvFkm"}],"key":"P7tzZLJlKN"},{"type":"tableCell","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SsyTx56yOy"}],"key":"eVbPOOWQd2"},{"type":"tableCell","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Experience using git and GitHub are helpful","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IpPo3rhUz2"}],"key":"dErAxawiI0"}],"key":"AbySejyidi"}],"key":"uh5hQpeIUd"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Recommended Skill Level","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"na9yqaGNmA"}],"key":"LqaJk5OX5E"},{"type":"text","value":": ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wGjQksjHmc"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Intermediate-Advanced","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ekWKX8YnOt"}],"key":"RnRYXvWbwS"}],"key":"FyQ6mHj5OI"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qLsHYq1nNq"}],"label":"rr-renv-summary","identifier":"rr-renv-summary","html_id":"rr-renv-summary","key":"xv7k1R6YVh"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Every computer has its unique computational environment [","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"EfeyZ6spcL"},{"type":"crossReference","label":"Computational Environment","identifier":"term-computational environment","children":[{"type":"text","value":"def","key":"rtNF85DFqK"}],"kind":"definitionTerm","template":"{name}","resolved":true,"html_id":"term-computational-environment","remote":true,"url":"/afterword/glossary","dataUrl":"/afterword.glossary.json","key":"MT3E1d573u"},{"type":"text","value":"] consisting of its operating system, installed software, versions of installed software packages, and other features that we will describe later.\nSuppose a research project is carried out on one computer but transferred to a different computer.\nThere is no guarantee that the analysis will be able to run or generate the same results if the analysis is dependent on any of the considerations listed above.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YxtRARFAsI"}],"key":"mLQo4pYXFv"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"In order for research to be reproducible, the computational environment that it was conducted in must be captured in such a way that others can replicate it.\nThis chapter describes a variety of methods for capturing computational environments and gives guidance on their strengths and weaknesses.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"BzK8et9sx2"}],"key":"jCbmmyqhVF"},{"type":"heading","depth":3,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"What is a Computational Environment?","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"z6iJvQhJ6O"}],"identifier":"what-is-a-computational-environment","label":"What is a Computational Environment?","html_id":"what-is-a-computational-environment","implicit":true,"key":"itNKW1V4TK"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"In broad terms, a computational environment is the system where a program is run.\nThis includes features of hardware (such as the numbers of cores in any CPUs) and features of software (such as the operating system, programming languages, supporting packages, other pieces of installed software, along with their versions and configurations).","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"JMCc4tnye7"}],"key":"wW02hOhnpO"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Software versions are often defined via ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"HepHUutQPw"},{"type":"link","url":"https://semver.org","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"semantic versioning","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"oc41gf7yeZ"}],"urlSource":"https://semver.org","key":"fPzV4IIvuB"},{"type":"text","value":".\nIn this system, three numbers - for example, 2.12.4 - are used to define each version of a piece of software.\nWhen a change is made to the software, its version is incremented.\nThese three numbers follow the pattern ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"r2RaNvT5Gk"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"MAJOR.MINOR.PATCH","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"TnJc4dYHwn"}],"key":"SgdATnV0eX"},{"type":"text","value":", and are incremented as follows:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"NKsQopqBPz"}],"key":"iLbHoH35xX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"MAJOR","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"PLpJFIdy2y"}],"key":"lrhMzA7jes"},{"type":"text","value":": significant changes","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KepMNowtd4"}],"key":"ziDfLckodm"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"MINOR","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"nIhjuEzPJR"}],"key":"tEqqlIqHKK"},{"type":"text","value":": to add functionality","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"oEXKDObQ5p"}],"key":"FvpV7cHyTW"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"PATCH","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"aVAbBdGuIB"}],"key":"Qt48qvAj8x"},{"type":"text","value":": for bug fixes","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"kCliIMFCuP"}],"key":"r2LskF5S53"}],"key":"k53H26WUPJ"},{"type":"heading","depth":2,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Motivation and Background","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"lrPVvwycQc"}],"label":"rr-renv-useful","identifier":"rr-renv-useful","html_id":"rr-renv-useful","key":"pGlk69RYek"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Let us go through an example of why computational environments are important.\nSay I have a very simple Python script:","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"o32mEpYFWI"}],"key":"Y63moLUuiE"},{"type":"code","lang":"","value":"a = 1\nb = 5\nprint(a/b)","position":{"start":{"line":44,"column":1},"end":{"line":48,"column":1}},"key":"TA2pLCsZXY"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"One divided by five is ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"vDPr3fFhkC"},{"type":"inlineCode","value":"0.2","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"caLYKFd8wZ"},{"type":"text","value":", and this is what is printed if the script is run using Python 3.\nHowever, if a slightly older version of Python, such as Python 2, is used, the result printed is ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"d7Skp084Lg"},{"type":"inlineCode","value":"0","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"YBDCqGHU0x"},{"type":"text","value":".\nThis is because integer division is applied to\nintegers in Python 2, but (normal) division is applied to all types, including integers, in Python 3.","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"aeb9rUgfW5"}],"key":"rTrrC5sIM9"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"Therefore this simple script returns ","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"JTrOaFnuXq"},{"type":"emphasis","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"different","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"Jw7vj26ZkT"}],"key":"w2Sl0IEFjV"},{"type":"text","value":" answers depending on the computational environment in which it is run.\nUsing the wrong version of Python is easy to do, and demonstrates how a perfectly valid piece of code can\ngive different results depending on its environment.\nIf such issues can impact a simple script like this, imagine how many could appear in a complex analysis procedure which may involve thousands of lines of code and dozens of dependent packages.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"wuwWJs0jN3"}],"key":"ENJA6pN7nm"},{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"Researchers need to understand and capture the computational environments in which they are conducting their work, as it has the potential to impact three parties:","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"iq7SnXWVGJ"}],"key":"gGaNu9C7Xs"},{"type":"heading","depth":3,"position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"Researchers","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"GWnfZGz45y"}],"identifier":"researchers","label":"Researchers","html_id":"researchers","implicit":true,"key":"ZK4iyg9EhZ"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"Researchersâ€™ working environments evolve as they update software, install new software, and move to different computers.\nIf the project environment is not captured and the researchers need to return to their project after months or years (as is common in research), they will be unable to do so confidently.\nThey will have no way of knowing what changes to a specific research environment have occurred and what impact those changes might have on their ability to run the code, and on the results.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"OYX3wqL8GE"}],"key":"TgNxhSD5sA"},{"type":"heading","depth":3,"position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"Collaborators","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"YNTUDyE3WZ"}],"identifier":"collaborators","label":"Collaborators","html_id":"collaborators","implicit":true,"key":"LO9Gcdyolp"},{"type":"paragraph","position":{"start":{"line":70,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Much research is now collaborative, and researching multiple different computational environments opens up a minefield of potential bugs.\nTrying to fix these kinds of issues is often time-consuming and frustrating as researchers have to figure out what the differences between computational environments are, and their effects.\nWorse, some bugs may remain undetected, potentially impacting the results.","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"NgRP1biq7H"}],"key":"oPQceNy1R9"},{"type":"heading","depth":3,"position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Science","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"pIFACzHeYp"}],"identifier":"science","label":"Science","html_id":"science","implicit":true,"key":"s2pqBsKfij"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Scholarly research has evolved significantly over the past decade, but the same cannot be said for the methods by which research processes are captured and disseminated.\nThe primary method for dissemination - the scholarly publication - is largely unchanged since the advent of the scientific journal in the 1660s.\nThis is no longer sufficient to verify, reproduce, and extend scientific results.\nDespite the increasing recognition of the need to share all aspects of the research process, scholarly publications today are often disconnected from the underlying analysis and, crucially, the computational environment that produced the findings.\nFor research to be reproducible, researchers must publish and distribute the entire contained analysis, not just its results.\nThe analysis should be ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"EBowB205cM"},{"type":"emphasis","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"mobile","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"Ij4ssW9raq"}],"key":"Xww2lBwbDw"},{"type":"text","value":".\nMobility of Compute is defined as the ability to define, create, and maintain a workflow locally while remaining confident that the workflow can be executed elsewhere.\nIn essence, mobility of compute means being able to contain the entire software stack, from data files up through the library stack, and reliably move it from system to system.\nAny research that is limited to where it can be deployed is instantly limited in the extent that it can be reproduced.","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"hNZ2PzhM8k"}],"key":"B9Rie4mlPo"},{"type":"paragraph","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"This chapter will describe how to capture, preserve and share computational environments and code to ensure research is reproducible.","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"vX8F86Q1f8"}],"key":"k7p6CGgl4L"}],"key":"La2bMmw804"}],"key":"Rn3mZGPMN9"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Resources","url":"/reproducible-research/rdm/rdm-resources","group":"The Turing Way"},"next":{"title":"Capturing Computational Environments","url":"/reproducible-research/renv/renv-options","group":"The Turing Way"}}},"domain":"http://localhost:3001"}