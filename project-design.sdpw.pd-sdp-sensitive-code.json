{"version":1,"kind":"Article","sha256":"2587506035e0a4c55863d657b45f9c34db029129145513199b141c5156edc335","slug":"project-design.sdpw.pd-sdp-sensitive-code","location":"/project-design/sdpw/pd-sdp-sensitive-code.md","dependencies":[],"frontmatter":{"title":"Sharing your Jupyter notebook","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":3}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/project-design/sdpw/pd-sdp-sensitive-code.md","exports":[{"format":"md","filename":"pd-sdp-sensitive-code.md","url":"/build/pd-sdp-sensitive-cod-98647b5d750ed952b2def67afba90ba6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"One neat way of sharing your research workflow - whether that is your data cleaning process, the statistical modelling that you have applied to your data set, or how you have visualised your results  - is through ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mufZ75gB8Z"},{"type":"link","url":"https://www.dataquest.io/blog/jupyter-notebook-tutorial/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Jupyter notebooks","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wotD91iOxe"}],"urlSource":"https://www.dataquest.io/blog/jupyter-notebook-tutorial/","key":"IA59qBSMZT"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bqgL0e9rqp"}],"key":"IoJOSltckG"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Working with sensitive data may, however, create barriers to sharing your Jupyter notebook: you do not want to commit a Jupyter notebook containing sensitive data to GitHub.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"A7G7OWLOt9"}],"key":"NyULfP5oCS"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"You can get around this hurdle by manually clearing your notebookâ€™s output before each Git commit you do.\nThis process is, however, time-consuming, cumbersome and - most importantly - extremely error-prone.\nYou only need to forget to clear the output once to inadvertently expose your data.\nAnother, much more efficient (and failsafe!) way of doing this is by using ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mOFK1le9HU"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HFvLdjrom5"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dInILClI1D"}],"key":"EXGHvHnMPW"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"IyKCGUdIiY"}],"identifier":"nbstripout","label":"nbstripout","html_id":"nbstripout","implicit":true,"key":"PRZcd0ElNc"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"link","url":"https://pypi.org/project/nbstripout/","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"gz0Org3yzW"}],"urlSource":"https://pypi.org/project/nbstripout/","key":"as8uxfDWhX"},{"type":"text","value":"is a utility that - when used as a ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"pCXhbqdU7y"},{"type":"link","url":"https://git-scm.com/docs/gitattributes#_filter","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"git filter","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"O0GqwvQSiw"}],"urlSource":"https://git-scm.com/docs/gitattributes#_filter","key":"bYKW2bFZxb"},{"type":"text","value":" or ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"uXKilOFpVq"},{"type":"link","url":"https://git-scm.com/docs/githooks#_pre_commit","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"pre-commit hook","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"XEB5wgEQGT"}],"urlSource":"https://git-scm.com/docs/githooks#_pre_commit","key":"csyYqh5G0U"},{"type":"text","value":" - automatically strips the Jupyter (or IPython/Zeppelin) notebook output before Git even gets the chance to see it.\nIn other words, it simulates the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"MPPCC8WNCH"},{"type":"emphasis","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Clear All Output","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"AiyPlBBo9v"}],"key":"b8Qk1QUNwT"},{"type":"text","value":" procedure in the Jupyter notebook user interface.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"TTVPVYnTJ6"}],"key":"ipcr8ImxIR"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Installing ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"uwB5U0qSK3"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"vos4qlTYBC"}],"identifier":"installing-nbstripout","label":"Installing nbstripout","html_id":"installing-nbstripout","implicit":true,"key":"BSsKPIeBFU"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"The latest version of ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"fD2ODWdUyu"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"vUPnLQf3AJ"},{"type":"text","value":" can be installed from ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"XnJRXkMfCm"},{"type":"link","url":"https://pypi.org","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"PyPI (The Python Package Index)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"HEEJiywmbu"}],"urlSource":"https://pypi.org","key":"DUNHBevGqC"},{"type":"text","value":" using the command ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Cj2V02YAxE"},{"type":"inlineCode","value":"pip install --upgrade nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"MXlh7IuEPq"},{"type":"text","value":".\nIf you are using Anaconda, you can install ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"TE0QfzQy3t"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"j6YDYsPUWK"},{"type":"text","value":" via the conda package manager: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"xdoD9cMVTU"},{"type":"inlineCode","value":"conda install -c conda-forge nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"uQfqC7IyWq"},{"type":"text","value":".","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GV4usGLG1u"}],"key":"Lc8y66ck61"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Setting up the git filter and attributes","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"XAVyG4buGT"}],"identifier":"setting-up-the-git-filter-and-attributes","label":"Setting up the git filter and attributes","html_id":"setting-up-the-git-filter-and-attributes","implicit":true,"key":"cLBnMy2MWR"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Once ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"gqF5NvZysQ"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"IzCg9cPS6e"},{"type":"text","value":" is installed, you need to add it to your local Git repository.\nStart by creating a new repository or navigating to one that you are already using. Once there, add ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ZNZBTAwxbw"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"sqnyNUsNSN"},{"type":"text","value":" using the command ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ojaL0dsN9e"},{"type":"inlineCode","value":"nbstripout --install","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"YjZEt4GDbh"},{"type":"text","value":".","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"J7ZbFGIDQY"}],"key":"ED3LWGa0UZ"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"You can check that ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ocasHeyqtM"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"R4J4YST7YV"},{"type":"text","value":" has successfully been applied as a filter by running the command ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ttvULM6DMv"},{"type":"inlineCode","value":"cat .git/config","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ex0t7Fa7fo"},{"type":"text","value":", or checking git attributes by running the command","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"CMMX5LCN4h"},{"type":"inlineCode","value":"cat .git/info/attributes","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"DLqEm0WJik"},{"type":"text","value":".","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"hz017ehZEi"}],"key":"mtwhWqyNpV"},{"type":"heading","depth":3,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Removing the git filter and attributes","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"rtE2Wpmy0P"}],"identifier":"removing-the-git-filter-and-attributes","label":"Removing the git filter and attributes","html_id":"removing-the-git-filter-and-attributes","implicit":true,"key":"J06ZDithze"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"If you decide that you would like to remove ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"RlBgwUNVdP"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"Mcqvb7sRAL"},{"type":"text","value":", simply run ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"zkATn4JwR8"},{"type":"inlineCode","value":"nbstripout --uninstall","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"j91utcDSCp"},{"type":"text","value":" whilst in the repository.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"hVNDsMRni2"}],"key":"jOLFAcKRGp"},{"type":"heading","depth":3,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Installing ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"TtzS9vTRHT"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"zmpdGv99yL"},{"type":"text","value":" globally","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"mjcnQKKuM5"}],"identifier":"installing-nbstripout-globally","label":"Installing nbstripout globally","html_id":"installing-nbstripout-globally","implicit":true,"key":"PDKXxpZOlH"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"TmatfY5yfb"},{"type":"text","value":" is generally installed in one local Git repository at a time, so that you can control when it is applied as a filter.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"WeM2T4bFmd"}],"key":"BqxWpXJ6Eh"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"However, if all of your notebooks deal with sensitive data, it might be a good idea to  install ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"mDbBmhRH2r"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"Gw41TfCNG5"},{"type":"text","value":" globally across all of your Git repositories.\nThis way, no notebooks risk slipping under the radar.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"k7qkj0ZFET"}],"key":"grA6Rjidmw"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"To install ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"bROkAPWWrG"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"MHejcSSV47"},{"type":"text","value":" globally, run the command: ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"j3kEEA1jEn"},{"type":"inlineCode","value":"nbstripout --install --global","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"mixpYyw7Zt"}],"key":"ZAzSfCQldY"}],"key":"EtavcNgf1A"}],"key":"gvbHyvDlUs"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Keeping sensitive files secure","url":"/project-design/sdpw/pd-sdp-sensitive-files","group":"The Turing Way"},"next":{"title":"What do you do if you inadvertently expose sensitive data on GitHub?","url":"/project-design/sdpw/pd-sdp-exposing-data","group":"The Turing Way"}}},"domain":"http://localhost:3001"}