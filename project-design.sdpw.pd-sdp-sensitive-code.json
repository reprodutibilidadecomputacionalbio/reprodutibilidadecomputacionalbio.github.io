{"version":1,"kind":"Article","sha256":"2587506035e0a4c55863d657b45f9c34db029129145513199b141c5156edc335","slug":"project-design.sdpw.pd-sdp-sensitive-code","location":"/project-design/sdpw/pd-sdp-sensitive-code.md","dependencies":[],"frontmatter":{"title":"Sharing your Jupyter notebook","content_includes_title":false,"authors":[{"nameParsed":{"literal":"The Turing Way Community","given":"The Turing Way","family":"Community"},"name":"The Turing Way Community","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/the-turing-way/the-turing-way","copyright":"2019-2025","numbering":{"title":{"offset":3}},"edit_url":"https://github.com/the-turing-way/the-turing-way/blob/main/book/website/project-design/sdpw/pd-sdp-sensitive-code.md","exports":[{"format":"md","filename":"pd-sdp-sensitive-code.md","url":"/build/pd-sdp-sensitive-cod-98647b5d750ed952b2def67afba90ba6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"One neat way of sharing your research workflow - whether that is your data cleaning process, the statistical modelling that you have applied to your data set, or how you have visualised your results  - is through ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bsSFyAfhL4"},{"type":"link","url":"https://www.dataquest.io/blog/jupyter-notebook-tutorial/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Jupyter notebooks","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zhYCF6bu9i"}],"urlSource":"https://www.dataquest.io/blog/jupyter-notebook-tutorial/","key":"kKKXW3H2Sk"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qS2bayPYMu"}],"key":"B5Xy1L3K4c"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Working with sensitive data may, however, create barriers to sharing your Jupyter notebook: you do not want to commit a Jupyter notebook containing sensitive data to GitHub.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UEWOGwMRRZ"}],"key":"jjRKJIatgQ"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"You can get around this hurdle by manually clearing your notebookâ€™s output before each Git commit you do.\nThis process is, however, time-consuming, cumbersome and - most importantly - extremely error-prone.\nYou only need to forget to clear the output once to inadvertently expose your data.\nAnother, much more efficient (and failsafe!) way of doing this is by using ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"T219AJ821x"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qiGMq7Xm4g"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XzATVN3PmW"}],"key":"xPrW0iWLAx"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dGE611RBDY"}],"identifier":"nbstripout","label":"nbstripout","html_id":"nbstripout","implicit":true,"key":"AW64awpNof"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"link","url":"https://pypi.org/project/nbstripout/","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"iuNOAQOOmn"}],"urlSource":"https://pypi.org/project/nbstripout/","key":"fLAH99Wfww"},{"type":"text","value":"is a utility that - when used as a ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"GhCodATeh4"},{"type":"link","url":"https://git-scm.com/docs/gitattributes#_filter","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"git filter","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"yU9KSOJHyd"}],"urlSource":"https://git-scm.com/docs/gitattributes#_filter","key":"SMDppC0XpJ"},{"type":"text","value":" or ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"icSylIN010"},{"type":"link","url":"https://git-scm.com/docs/githooks#_pre_commit","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"pre-commit hook","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"pH1HR5guzz"}],"urlSource":"https://git-scm.com/docs/githooks#_pre_commit","key":"k7lzhlM3uD"},{"type":"text","value":" - automatically strips the Jupyter (or IPython/Zeppelin) notebook output before Git even gets the chance to see it.\nIn other words, it simulates the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HdYVicWo1G"},{"type":"emphasis","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Clear All Output","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DqBlBZuJmO"}],"key":"v05Qh8uQmM"},{"type":"text","value":" procedure in the Jupyter notebook user interface.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ENwEZ8xFi0"}],"key":"ZnKXHPESa8"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Installing ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"CWabIfZDp0"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"s2tnQKTU7G"}],"identifier":"installing-nbstripout","label":"Installing nbstripout","html_id":"installing-nbstripout","implicit":true,"key":"qqeq7ODLNe"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"The latest version of ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"NCIyIXTvlc"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"jB2I5tEnPa"},{"type":"text","value":" can be installed from ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"pu6NibWRjK"},{"type":"link","url":"https://pypi.org","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"PyPI (The Python Package Index)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"mbUoYAZiaP"}],"urlSource":"https://pypi.org","key":"uOUbMhmwpJ"},{"type":"text","value":" using the command ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"QIByKuWS1g"},{"type":"inlineCode","value":"pip install --upgrade nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"py2p8MBnRZ"},{"type":"text","value":".\nIf you are using Anaconda, you can install ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Cm2oOLw9UO"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"c7rzsW0Crn"},{"type":"text","value":" via the conda package manager: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"o87rDGCpMK"},{"type":"inlineCode","value":"conda install -c conda-forge nbstripout","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"YPsUZq2sMK"},{"type":"text","value":".","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GQN6bi3qRz"}],"key":"LQmm5BFa7z"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Setting up the git filter and attributes","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"MaVlXy43IR"}],"identifier":"setting-up-the-git-filter-and-attributes","label":"Setting up the git filter and attributes","html_id":"setting-up-the-git-filter-and-attributes","implicit":true,"key":"AJngb3EN0k"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Once ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ESyjZRKkTg"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"EPZIru0Osu"},{"type":"text","value":" is installed, you need to add it to your local Git repository.\nStart by creating a new repository or navigating to one that you are already using. Once there, add ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"hS6r8J01ZN"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"RYXZtxCyOX"},{"type":"text","value":" using the command ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"rXJttVWmBp"},{"type":"inlineCode","value":"nbstripout --install","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"RV2qfIwy1O"},{"type":"text","value":".","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"hQv8EHz82N"}],"key":"Umer8jIofs"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"You can check that ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"q8OGXErTZt"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"HuS8STvQEB"},{"type":"text","value":" has successfully been applied as a filter by running the command ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"O9MqU36OMr"},{"type":"inlineCode","value":"cat .git/config","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"NBGePiXCQT"},{"type":"text","value":", or checking git attributes by running the command","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"fhS25hSXKu"},{"type":"inlineCode","value":"cat .git/info/attributes","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"eEcQj80Vkv"},{"type":"text","value":".","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"hYRxJtqDZF"}],"key":"USza7crRaD"},{"type":"heading","depth":3,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Removing the git filter and attributes","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"IL8J8RbC8g"}],"identifier":"removing-the-git-filter-and-attributes","label":"Removing the git filter and attributes","html_id":"removing-the-git-filter-and-attributes","implicit":true,"key":"zPjGFy6Cir"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"If you decide that you would like to remove ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"zoSwA6sLUR"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"AtSJrJiHAX"},{"type":"text","value":", simply run ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"dwKPWPKJiF"},{"type":"inlineCode","value":"nbstripout --uninstall","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"ODOT0i3had"},{"type":"text","value":" whilst in the repository.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"pLb6hEpwLa"}],"key":"fxdLw7kdsu"},{"type":"heading","depth":3,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Installing ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"Lmb1cBH2Bh"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"fCxZPgES31"},{"type":"text","value":" globally","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"zJDe16TBrr"}],"identifier":"installing-nbstripout-globally","label":"Installing nbstripout globally","html_id":"installing-nbstripout-globally","implicit":true,"key":"yvNRlqExiB"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"Dxq16H436V"},{"type":"text","value":" is generally installed in one local Git repository at a time, so that you can control when it is applied as a filter.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"v1lQTeeXpn"}],"key":"FFnwXLrvvl"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"However, if all of your notebooks deal with sensitive data, it might be a good idea to  install ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"ENcW6miK0c"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"iSgxyZLU4W"},{"type":"text","value":" globally across all of your Git repositories.\nThis way, no notebooks risk slipping under the radar.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"pCoRU6BKAd"}],"key":"jErcOGhWLb"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"To install ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"iiun0xzOKi"},{"type":"inlineCode","value":"nbstripout","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"tSd70k2M6o"},{"type":"text","value":" globally, run the command: ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"lDH0CG4MhO"},{"type":"inlineCode","value":"nbstripout --install --global","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"YPM9h6nALZ"}],"key":"mvbWP1F42S"}],"key":"qhmwYSU9ps"}],"key":"tReiVxgJrQ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Keeping sensitive files secure","url":"/project-design/sdpw/pd-sdp-sensitive-files","group":"The Turing Way"},"next":{"title":"What do you do if you inadvertently expose sensitive data on GitHub?","url":"/project-design/sdpw/pd-sdp-exposing-data","group":"The Turing Way"}}},"domain":"http://localhost:3000"}